schema: '2.0'
stages:
  prepare:
    cmd: python3 src/features/prepare.py --file_origin google_sheets
    deps:
    - path: src/features/prepare.py
      md5: 9d13ef2d0294b8f74a87a7ad287632b4
      size: 3264
    params:
      params.yaml:
        prepare.features:
        - witness_lat
        - witness_lng
        - signal
        - snr
        - datarate
        - is_valid
        - time
        - distance
    outs:
    - path: data/prepared/full_dataset.csv
      md5: fedbb4da5e3d2c94325490af131630c5
      size: 4786
  load_data_sps:
    cmd: python -m src.data.load_data --id 2
    outs:
    - path: data/raw/experiments
      md5: 00354177a1a0964b6cfab12f493df8ac.dir
      size: 29337
      nfiles: 1
  train:
    cmd: python3 src/features/train.py
    deps:
    - path: data/prepared/train.csv
      md5: 8b6c9d796329b38cd747976a6d72cc16
      size: 4717
    - path: src/features/train.py
      md5: b4b0c55e1477fdccdf98c19fff1c5c7f
      size: 1217
    params:
      params.yaml:
        prepare.features:
        - witness_lat
        - witness_lng
        - signal
        - snr
        - datarate
        - is_valid
        - time
        - distance
    outs:
    - path: models/model.joblib
      md5: d78834c34b2111a70448b196535fc2d8
      size: 959
  evaluate:
    cmd: python3 src/features/evaluate.py
    deps:
    - path: data/prepared/test.csv
      md5: 54309b395f10c33d39f113871dcdedd2
      size: 2142
    - path: models/model.joblib
      md5: d78834c34b2111a70448b196535fc2d8
      size: 959
    params:
      params.yaml:
        prepare.features:
        - witness_lat
        - witness_lng
        - signal
        - snr
        - datarate
        - is_valid
        - time
        - distance
    outs:
    - path: models/results.json
      md5: 8abb5c271748084c852fea1e28a5f81a
      size: 199
  featurize:
    cmd: python3 src/features/featurize.py
    deps:
    - path: data/prepared/full_dataset.csv
      md5: fedbb4da5e3d2c94325490af131630c5
      size: 4786
    params:
      params.yaml:
        prepare.features:
        - witness_lat
        - witness_lng
        - signal
        - snr
        - datarate
        - is_valid
        - time
        - distance
    outs:
    - path: data/prepared/test.csv
      md5: 54309b395f10c33d39f113871dcdedd2
      size: 2142
    - path: data/prepared/train.csv
      md5: 8b6c9d796329b38cd747976a6d72cc16
      size: 4717
