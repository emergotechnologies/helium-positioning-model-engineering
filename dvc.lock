schema: '2.0'
stages:
  prepare:
    cmd: python3 src/features/prepare.py
    deps:
    - path: data/raw/experiments
      md5: 00354177a1a0964b6cfab12f493df8ac.dir
      size: 29337
      nfiles: 1
    - path: src/features/prepare.py
      md5: bc3889c09487a058d549f032eccff3a0
      size: 2899
    params:
      params.yaml:
        prepare.features:
        - witness_lat
        - witness_lng
        - signal
        - snr
        - datarate
        - is_valid
        - time
        - distance
    outs:
    - path: data/prepared/full_dataset.csv
      md5: a05dc501f3b5e9c1f15c15026ac15bbc
      size: 4784
  load_data_sps:
    cmd: python -m src.data.load_data --id 2
    outs:
    - path: data/raw/experiments
      md5: 00354177a1a0964b6cfab12f493df8ac.dir
      size: 29337
      nfiles: 1
  train:
    cmd: python3 src/features/train.py
    deps:
    - path: data/prepared/train.csv
      md5: 63be35a8dbe53975413ff811a28ef4f3
      size: 4715
    - path: src/features/train.py
      md5: c2f00b75351b90de67d65e944eef1360
      size: 1629
    params:
      params.yaml:
        prepare.features:
        - witness_lat
        - witness_lng
        - signal
        - snr
        - datarate
        - is_valid
        - time
        - distance
    outs:
    - path: models/model.joblib
      md5: d4e8bcab8320449a81731250b6402d24
      size: 959
  evaluate:
    cmd: python3 src/features/evaluate.py
    deps:
    - path: data/prepared/test.csv
      md5: 9f22db31a94aa279363035d29f516d6d
      size: 2145
    - path: models/model.joblib
      md5: d4e8bcab8320449a81731250b6402d24
      size: 959
    params:
      params.yaml:
        prepare.features:
        - witness_lat
        - witness_lng
        - signal
        - snr
        - datarate
        - is_valid
        - time
        - distance
    outs:
    - path: models/results.json
      md5: 371b9b8ee32feb1300a28dc39e1e3b69
      size: 200
  featurize:
    cmd: python3 src/features/featurize.py
    deps:
    - path: data/prepared/full_dataset.csv
      md5: a05dc501f3b5e9c1f15c15026ac15bbc
      size: 4784
    params:
      params.yaml:
        prepare.features:
        - witness_lat
        - witness_lng
        - signal
        - snr
        - datarate
        - is_valid
        - time
        - distance
    outs:
    - path: data/prepared/test.csv
      md5: 9f22db31a94aa279363035d29f516d6d
      size: 2145
    - path: data/prepared/train.csv
      md5: 63be35a8dbe53975413ff811a28ef4f3
      size: 4715
